---
title: 文本的心理指标提取
date: 2017-06-16 08:17:19
tags: 文本挖掘
mathjax: true
---

## 获取词库

使用textmind词库

## 基于语料库构建词向量

目前先使用百度的api接口获取词向量。将所有textmind词库中的词以向量`\(x_i\)`表示。总共有n个词。因为百度给出的词向量长度为1024，所以M应该是一个`1024 x n`的矩阵

`
\[ M = \left[ x_1^T, x_2^T, \dots , x_n^T \right] \]
`

## 使用svd降维

`
\[ M = U \Sigma V^T \]
`

其中矩阵U是1024x1024的矩阵，`\( \Sigma \)`是一个`\(1024 \times n \)`的对角矩阵，`\( V^T \)`是一个n x n的矩阵。选取前m个最大的特征值，让m=textmind的分类数，这样：

`
\[ M' = U_{1024 \times m} \Sigma_{m \times m} V^T_{m \times n} \]
`

这样任意一个词的向量x就可以投射到   M'矩阵列向量的线性空间中`：

即，求x在`\( U_{1024 \times m} \)`的每个列向量下的投影长度。设`\( u_j \)`是U的第j个列向量。

`\[ x' =  \left[ { {x \cdot u_1} \over {|u_1|^2} }, { {x \cdot u_2} \over {|u_2|^2} }, \dots ,{ {x \cdot u_m} \over {|u_m|^2} } \right]) \]`

`x'`是m维的向量。这样就达到了降维的目的，同时可以计算得到新词的向量。

## 计算篇章的向量`t`

使用词袋模型，设篇章的向量就是构成篇章的词的向量的平均。一篇文章有p个词，则：

`
\[ t={ {1 \over p} \sum_{i=1}^p x'_i }\]
`

t中的每一维都代表了一种心理特征值。

## 人工标注心理指标

使用人工标注的方法标注某些心理指标，比如“合作倾向性”，需要开发一个标注工具。可以对句子和篇章进行打分。标注的所有指标构成向量`g` 。

## 计算相关矩阵

收集q个被试的文本。计算篇章向量`t`构成的矩阵`\( X_{q \times t} \)`，矩阵中每一列都代表一个指标向量。同时人工标注d个指标得到矩阵`\( Y_{q \times d} \)`, 把每个指标都看成q维向量`\(z\)`，计算向量`\( z_i \)`和向量`\( z_j \)`的相关`\( r_{ij} \)`，其中i是篇章向量的第i个指标，j是人工标注的第j个指标。初步查看相关程度。

对比：

使用textmind方法统计各类指标词频，做同样的相关矩阵，对比效果。

## 预测人工标注指标

通过构建机器学习模型f，预测心理指标，也就是:

`
\[ g'=f(t) \]
`
